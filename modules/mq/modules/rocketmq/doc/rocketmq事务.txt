rocketmq事务消息发送步骤：
1. 发送方将半事务消息发送至RocketMQ服务端。
2. RocketMQ服务端将消息持久化之后，向发送方返回Ack确认消息已经发送成功。
   由于消息为半事务消息，在未收到生产者对该消息的二次确认前，此消息被标记成“暂不能投递”状态。
3. 发送方开始执行本地事务逻辑。
4. 发送方根据本地事务执行结果向服务端提交二次确认（Commit 或是 Rollback），
服务端收到Commit 状态则将半事务消息标记为可投递，订阅方最终将收到该消息；
服务端收到 Rollback 状态则删除半事务消息，订阅方将不会接受该消息。
事务消息回查步骤：
1. 在断网或者是应用重启的特殊情况下，上述步骤4提交的二次确认最终未到达服务端，
   经过固定时间后服务端将对该消息发起消息回查。
2. 发送方收到消息回查后，需要检查对应消息的本地事务执行的最终结果。
3. 发送方根据检查得到的本地事务的最终状态再次提交二次确认，服务端仍按照步骤4对半事务消息进行操作。

事务消息处理类需要继承RocketMQLocalTransactionListener类。
该类的executeLocalTransaction方法负责在接到RocketMQ服务端的Ack确认消息后执行本地方法，也就是事务消息发送步骤中的步骤3。
该类的checkLocalTransaction方法负责，在断网或者是应用重启的特殊情况下，执行RocketMQ服务端的消息回查，也就是事务消息回查步骤中的步骤2。
此外，要使该类生效，还需要加@RocketMQTransactionListener注解。