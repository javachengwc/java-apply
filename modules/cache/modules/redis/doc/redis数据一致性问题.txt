使用Redis作为缓存时，让请求先访问到Redis，而不是直接访问数据库，可能会出现缓存和数据库数据不一致性的问题。
在更新的时候，操作缓存和数据库，可以先过期缓存，再更新数据库。
如果第一步执行成功，而第二步失败，也就是缓存中的数据被删除了，但是数据库没有更新，
那么在下一次进行查询的时候，查不到缓存，只能重新查询数据库，构建缓存，这样其实也是相对做到了数据一致性。
但如果是处于读写并发的情况下，还是会出现数据不一致的情况。
为了解决这个存在的问题有以下方式：
1，延迟双删
先进行缓存清除，再执行update，最后（延迟N秒）再执行缓存清除。进行两次删除，且中间需要延迟一段时间。
2，通过异步消息MQ，在消费者线程进行redis缓存更新。
3，数据库的二进制日志变更来进行redis缓存更新。
在mysql数据库一条记录发生变更时就会生成一条binlog日志，订阅这种消息，拿到具体的数据，然后根据日志消息更新缓存。
