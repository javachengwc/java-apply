一个完整的电商平台模块本身应该如何划分，

可以从两个维度来进行思考，

一个维度是本身电商的端到端业务和流程角度出发，可以分为哪些大的阶段，每个大阶段可对应为模块；

另外一个维度则是从电商业务中的核心主数据和业务单据出发，围绕数据来考虑模块的划分。

电商平台核心模块从基础数据层面包括了产品管理，客户管理，供应商，经销商管理，

在产品和供应商管理中可能又会拆分单独的价格库模块，维护产品价格和价格策略信息。

围绕电商业务则包括了订单管理，库存管理和物流配送相关模块，

再向两端延伸则涉及到前端的营销活动管理和后端的售后服务管理，

延伸到外部则涉及到和第三方支付，第三方物流等各种平台的对接和集成。

类似京东和天猫等电商运营平台和企业自建电商平台还是存在较大的区别，

对于企业自建的电商平台将更加强调和内部已有的ERP，物流，售后等业务系统的对接和端到端集成。

即企业自建电商平台更多是企业内部已经成熟的价值链体系的端到端延伸，三流的统一最终还是会汇到企业内部ERP系统里面，即其核心往往仍然在内部改造和集成，而非独立电商应用。

如果没有解决好集成和实时协同问题，那么企业电商就是一个信息孤岛而无法真正发挥其应有的价值。

在产品库设计中很重要的一个概念就是SKU(Stock Keeping Unit)库存量单位，即产品在规格上的差异（颜色，尺寸，容量，包装类型）等都会对应到不同的SKU，即进行独立的库存控制。

一个产品编码对应多个不同的SKU产品SKU编码，注意当前电商平台往往有两种做法，一种是在商品搜索展示的时候直接展示到SKU级别，

一种是只展示到产品层面，进入后再可以进一步选择不同的颜色和尺寸。

产品库的另外一个设计重点即产品属性设计，由于不同类型的产品属性差异相当大，因此传统的纵表设计方式肯定是不合适的，但是也不能将所有产品的属性都归纳到横表方式进行设计。

因此其核心判断原则应该是对于只在查询单个产品页面需要展示的属性可以考虑横表方式设计，而对于在产品搜索等批量数据查询的地方涉及到的属性，则仍然还是保留纵表设计方式。

产品的价格库建议是独立组件和模块，对于电商的产品价格涉及到产品销售价格，采购价格，管理类价格，促销类价格等诸多内容，这些内容需要通过价格策略库独立进行管理。

产品组合设计是另外一个重要内容，即不同的产品可以组合为一个独立的产品包进行销售，产品包定价往往不是独立的各子产品价格的简单累加而是有独立的价格组合。

同时在销售产品包的时候如果产品组合本身对应不同的供应商还影响到后续销售订单的拆分，物流单的拆分诸多操作。

可以看到当前在各个电商网站产品包销售相对来说很少，更多的是在单个产品购买的时候直接更加大数据分析推荐产品组合。

这种产品组合购买方式仅仅是将用户多次挑选产品行为转化为了单次批量加入而已。

当前的电商平台更多的都是B2B2C的大型电商平台，可以看到在该模式下整个管理将更加复杂，即对于同样的产品规格由于经销商的不同也是不同的SKU码进行管理。

同时由于在电商平台自营和经销商共存的情况下，涉及到后续的销售订单，物流配送，售后等各个环境都会存在差异。

当前的电商平台对于同一个规格型号的商品由于经销商不同会显示多条数据，这本身对于用户体验来说是相当不友好的，增加了用户挑选商品的困难。

对于购物车，里面最核心的还是会话的保存方式，常见的主要有三种，即基于cookies，使用Session，使用数据库存储三种方式。

对于用户还没有登录前的浏览往往只能使用cookies来进行存储，

而在用户登录后则可以使用Session方式存储购物车内容，但是存在问题则是用户关闭浏览器退出后购物车数据会进行丢失，

因此还是存在是否需要将购物车内容持久化到数据库中存储，并保持一段时间有效的问题。

订单则先说一点即订单本身的拆分问题，可以看到在各个电商平台经常会看到订单拆分，即对于自营和不同经销商的产品会进行订单拆分进行配送。

这是我们使用电商平台可以看到的订单拆分，实际在电商后台还存在多种其它方式的拆分，

订单拆分是订单管理里面很重要的一个功能，其中包括了按照不同的经销商，按照产品库存地点，按照产品本身的配送方式等多种方式进行拆分，这些内部拆分往往对用户来说并不可见。

跟电商密切相关的是支付和物流配送，对于电商订单存在在线支付和货到付款两种大场景，那么对于选择在线支付后会存在和第三方支付平台的接口和交互，

在第三方支付请求发送并成功完成支付后该订单才会进入内部订单确认后安排发货阶段，

对于提交的订单往往本身也会有待支付状态，即给用户一个可以进行在线支付的支付时效，用户在支付时效内完成支付即可。

对于配送往往又涉及到和第三方物流配送平台如顺丰，圆通的集成。

电商平台需要将具体的配送请求或指令传递给第三方物流厂商，同时物流厂商本身也提供物流路由跟踪查询的服务接口，即我们在电商平台能够看到的效果，

可以在电商平台实时的查询到订购商品当前的物流状态。

任何电商平台核心业务流程难点往往都不在单纯正向的业务流，而在于逆向或变更流程，

对于电商平台来讲包括了退货，换货，订单取消等各种场景，电商平台在实现中重点需要考虑这些逆向流程的处理。

特别是在逆向流程发起的时候如果实物配送流已经启动，则复杂度将进一步增加。